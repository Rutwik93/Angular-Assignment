<app-header></app-header>

<div class="cartEmpty" *ngIf="!cartItems.length" fxLayout.gt-sm="row wrap" fxLayout.xs="column wrap" fxLayout.sm="column wrap" fxLayoutGap="0.5%"  style="margin-top:2%; margin-bottom: 2%;">
    <mat-icon [ngClass.lt-md]="'iconLTMD'" [ngClass.gt-sm]="'iconGTSM'" style="font-size: 8em; width: 100px;">production_quantity_limits</mat-icon>
    <div style="font-size: 3em; margin: auto;">Your Cart is Empty!</div>
</div>

<div class="container" fxLayout="row wrap" fxLayoutGap="0.5%" fxLayoutAlign="center" style="margin-top:2%; margin-bottom: 2%;" *ngIf="cartItems.length">
    <mat-card fxFlex="70%" fxFlex.sm="90%" fxFlex.xs="90%"> 
        <div class="container" fxLayout="row wrap" class="itemsList" fxLayoutAlign="left" *ngFor="let item of cartItems">
            <mat-card fxFlex="30%" fxFlex.sm="100%" fxFlex.xs="100%" style="box-shadow: none;"> 
                <img style="width: 100%; height: 250px;" src={{item.URL}}>
            </mat-card>

            <mat-card fxFlex="70%" fxFlex.sm="100%" fxFlex.xs="100%" style="padding: 0%; margin: 0%; box-shadow: none;"> 
                <div fxLayout="row wrap" fxLayoutGap="0.5%" fxLayoutAlign="center">
                    <mat-card fxFlex="100%" style="box-shadow: none;"> 
                        <mat-card-title-group>
                            <mat-card-title>{{item.Name}}</mat-card-title>
                            <mat-card-subtitle style="margin-top: 3%; text-align: justify; font-weight: 500; font-size:20px; line-height: 30px;">Category: {{item.Category}}</mat-card-subtitle>
                            <mat-card-subtitle style="margin-top: 3%; text-align: justify; font-weight: 500; font-size:20px; line-height: 30px;">Description: {{item.Description}}</mat-card-subtitle>
                            <mat-card-title style="margin-top: 5%;">{{item.Price | currency:'INR'}} x {{item.quantity}} = {{item.Price*item.quantity | currency:'INR'}}</mat-card-title>
                        </mat-card-title-group>        
                        <button mat-raised-button color="primary" (click)="deleteItem(item)" style="margin-top: 5%;"><mat-icon style="font-size: 25px; line-height:22px; margin-right: 5px;">delete</mat-icon>Delete Item</button>    
                    </mat-card>
                </div>
            </mat-card>
        </div>
        <button mat-raised-button color="primary" style="margin-top: 20px; float: right;" (click)="clearCart()"><mat-icon style="font-size: 25px; line-height:22px; margin-right: 5px;">delete_forever</mat-icon>Empty Cart</button>
    </mat-card>

    <mat-card fxFlex="25%" fxFlex.sm="90%" fxFlex.xs="90%" style="height: fit-content;"> 
        <mat-card-title-group>
            <mat-card-title>Total Items:</mat-card-title><span style="font-size: 24px; font-weight: 500;">{{cartItems.length}}</span>
        </mat-card-title-group>
        <hr style="font-weight: lighter;">
        <mat-card-title-group>
            <mat-card-title>Total Amount:</mat-card-title><span style="font-size: 24px; font-weight: 500;">{{total | currency:'INR'}}</span>
        </mat-card-title-group>
        <div style="text-align: center; margin-top: 5%;">
            <button mat-raised-button color="primary" style="display: inline-block;  margin: auto;" (click)="handleOrder()"><mat-icon style="font-size: 25px; line-height:22px; margin-right: 5px;">local_shippingr</mat-icon>Place Order</button>
        </div>
    </mat-card>
</div>